!function(){"use strict";function e(){function e(e,t,l,n,o,c){function i(){e.freezedColumns=[],e.unFreezedColumns=[],angular.forEach(e.columns,function(t){t.freezed?e.freezedColumns.push(t):e.unFreezedColumns.push(t)}),m()}function a(){e.selectionChanged&&e.selectionChanged()}function d(t){return e.selectedItems.indexOf(t)>-1}function m(){var t=-32,l=-32;e.selectable&&(t+=54),angular.forEach(e.columns,function(n){"button"===n.type?n.freezed?t+=52:l+=52:e.compact&&n.optional||n.hide||(n.freezed?(n.size=n.size||1,t+=75*n.size+56):(n.size=n.size||1,l+=75*n.size+56))}),e.lineNumber&&(t+=50),e.freezedContainerStyle="min-width:"+t+"px";var n=t;e.freezedHeaderStyle="min-width:"+n+"px",e.unFreezedContainerStyle="min-width:"+l+"px";var o=l+100;e.unFreezedHeaderStyle="min-width:"+o+"px",e.$applyAsync()}function s(t,l){l.stopPropagation();var n=e.selectedItems.indexOf(t);n>-1?e.selectedItems.splice(n,1):e.selectedItems.push(t)}function r(t,l){e.selectOnClick&&(e.selectedItems=[t]),e.itemClicked&&e.itemClicked(t,l)}function u(){e.allAreSelected()?e.selectedItems=[]:angular.forEach(e.data,function(t){e.selectedItems.indexOf(t)<0&&e.selectedItems.push(t)})}function p(){return e.selectedItems.length===e.data.length}function g(l,n){if(!n)throw"column definition is not defined.";if(!n.path)throw"path must be set, in: "+n;for(var o=n.path.split("."),i=0,a=l;i<o.length&&a;)a=a[o[i]],i++;if(void 0===a||null===a)return"";if(n.filter&&(a=Array.isArray(n.filter)?1===n.filter.length?t(n.filter[0])(a):t(n.filter[0])(a,n.filter[1]):t(n.filter)(a)),"date"===n.dataType){var d=n.dateFormat||e.defaultDateFormat;a=t("date")(new Date(a),d)}if("function"==typeof n.render){var m=n.render(a,l,n);return c.trustAsHtml("string"==typeof m?m:""+m)}return a}function b(){e.loadMoreFn&&e.loadMoreFn()}function f(t){var l=t.path;t.sortPath&&(l=t.sortPath),e.sortFn&&(e.sortField===l?e.sortDesc=!e.sortDesc:e.sortField=l,e.sortFn(l,e.sortDesc))}function h(t,l,n){n.stopPropagation();var o=e.itemCommands[t];o&&o(l,n)}function v(e,t,l){l.onClicked&&(e.stopPropagation(),l.onClicked(t,e))}e.defaultDateFormat=e.defaultDateFormat||"MM/dd/yyyy",e.selectedItems=e.selectedItems||[],e.selectOnClick=e.selectOnClick||!1,e.totalCount=e.totalCount||10,e.itemCommands=e.itemCommands||{},e.sortField="",e.sortDesc=!1,e.isItemSelected=d,e.toggleItemSelected=s,e.onItemClicked=r,e.toggleAll=u,e.allAreSelected=p,e.getCellText=g,e.loadMore=b,e.sort=f,e.runCommand=h,e.onCellClicked=v,e.tableId=(new Date).getTime(),e.freezedColumns=[],e.unFreezedColumns=[],function(){e.$watchCollection("selectedItems",a),e.$watch("compact",m),e.$watch("columns",i)}(),o(function(){var t=angular.element(document.querySelector("#table-header-"+e.tableId)),l=angular.element(document.querySelector("#table-container-freezed-"+e.tableId+" .md-virtual-repeat-scroller"));angular.element(document.querySelector("#table-container-"+e.tableId+" .md-virtual-repeat-scroller")).on("scroll",function(e){t[0].scrollLeft=e.target.scrollLeft,l[0].scrollTop=e.target.scrollTop})})}function t(e,t,l){}var l={restrict:"E",scope:{data:"=",columns:"=",selectable:"=",selectedItems:"=?",selectionChanged:"=?",itemClicked:"=?",selectOnClick:"=?",defaultDateFormat:"@?",compact:"=?",hideHeader:"=",heightOffsetValue:"=?",loadMoreFn:"=?",sortFn:"=?",isLoading:"=?",totalCount:"=?",itemCommands:"=?",lineNumber:"=?"},controller:e,template:'<div class="tw-table-columns--freezed"><section layout="row" style="{{freezedHeaderStyle}}" id="table-header-freezed-{{tableId}}" class="tw-table-header" ng-if="!hideHeader"><div layout="row" flex><div class="tw-table-cell tw-table-line-number-cell" ng-if="lineNumber"></div><div class="tw-table-cell tw-table-check-cell" ng-if="selectable"><md-checkbox aria-label="check all" ng-checked="allAreSelected()" ng-click="toggleAll()"></div><div class="tw-table-cell x{{column.size}}" ng-show="(!compact||!column.optional) &&! column.hide" ng-class="{\'numeric\':column.numeric,\'tw-table-button-cell\':column.type===\'button\',\'tw-table-text-cell\':column.type!==\'button\'}" ng-repeat="column in freezedColumns"><div ng-if="column.sortable" ng-click="sort(column)" class="sort-handler"><span>{{column.title}}</span><md-icon ng-show="sortField===column.path && sortDesc" md-font-set="material-icons">keyboard_arrow_down</md-icon><md-icon ng-show="sortField===column.path && !sortDesc" md-font-set="material-icons">keyboard_arrow_up</md-icon></div><span ng-if="!column.sortable">{{column.title}}</span></div></div></section><md-virtual-repeat-container style="{{freezedContainerStyle}}" id="table-container-freezed-{{tableId}}"><div class="tw-table-row" layout="row" md-virtual-repeat="item in data" ng-class="{\'selected\':isItemSelected(item), \'clickable\':itemClicked}" ng-click="onItemClicked(item, $event)"><div class="tw-table-cell tw-table-line-number-cell" ng-if="lineNumber">{{$index+1}}</div><div ng-if="selectable" class="tw-table-cell tw-table-check-cell"><md-checkbox aria-label="select" ng-checked="isItemSelected(item)" ng-click="toggleItemSelected(item, $event)"></div><div ng-repeat="column in freezedColumns" ng-show="(!compact||!column.optional) && !column.hide" class="tw-table-cell x{{column.size}}" ng-class="{\'tw-table-button-cell\':column.type===\'button\', \'numeric\':column.numeric,\'tw-table-text-cell\':column.type!==\'button\'}"><md-tooltip ng-if="column.tooltip && !column.tooltipFn">{{column.tooltip}}</md-tooltip><md-tooltip ng-if="column.tooltipFn">{{column.tooltipFn(item)}}</md-tooltip><md-button ng-if="column.type===\'button\'" class="md-icon-button md-primary" ng-click="onCellClicked($event, item, column)"><md-icon md-font-set="material-icons">{{column.icon}}</md-icon></md-button><span ng-click="onCellClicked($event, item, column)" ng-if="column.type!==\'button\'" ng-class="{\'clickable\':column.onClicked}" ng-bind-html="getCellText(item, column)" class="cell-text"></span></div></div><div class="table-container-freezed-placeholder"></div></md-virtual-repeat-container></div><div class="tw-table-columns" flex><section layout="row" style="{{unFreezedHeaderStyle}}" id="table-header-{{tableId}}" class="tw-table-header" ng-if="!hideHeader"><div layout="row" flex><div class="tw-table-cell x{{column.size}}" ng-show="(!compact||!column.optional) &&! column.hide" ng-class="{\'numeric\':column.numeric,\'tw-table-button-cell\':column.type===\'button\',\'tw-table-text-cell\':column.type!==\'button\'}" ng-repeat="column in unFreezedColumns"><div ng-if="column.sortable" ng-click="sort(column)" class="sort-handler"><span>{{column.title}}</span><md-icon ng-show="sortField===column.path && sortDesc" md-font-set="material-icons">keyboard_arrow_down</md-icon><md-icon ng-show="sortField===column.path && !sortDesc" md-font-set="material-icons">keyboard_arrow_up</md-icon></div><span ng-if="!column.sortable">{{column.title}}</span></div></div></section><md-virtual-repeat-container style="{{unFreezedContainerStyle}}" id="table-container-{{tableId}}"><div class="tw-table-row" layout="row" md-virtual-repeat="item in data" ng-class="{\'selected\':isItemSelected(item), \'clickable\':itemClicked}" ng-click="onItemClicked(item, $event)"><div ng-repeat="column in unFreezedColumns" ng-show="(!compact||!column.optional) && !column.hide" class="tw-table-cell x{{column.size}}" ng-class="{\'tw-table-button-cell\':column.type===\'button\', \'numeric\':column.numeric,\'tw-table-text-cell\':column.type!==\'button\'}"><md-tooltip ng-if="column.tooltip && !column.tooltipFn">{{column.tooltip}}</md-tooltip><md-tooltip ng-if="column.tooltipFn">{{column.tooltipFn(item)}}</md-tooltip><md-button ng-if="column.type===\'button\'" class="md-icon-button md-primary" ng-click="onCellClicked($event, item, column)"><md-icon md-font-set="material-icons">{{column.icon}}</md-icon></md-button><span ng-click="onCellClicked($event, item, column)" ng-if="column.type!==\'button\'" ng-class="{\'clickable\':column.onClicked}" ng-bind-html="getCellText(item, column)" class="cell-text"></span></div></div><div class="md-padding" layout="row" layout-align="center center"><md-button class="md-primary" ng-click="loadMore()" ng-show="data.length<totalCount&&!isLoading">Load More</md-button><md-progress-circular md-mode="indeterminate" ng-show="isLoading"></md-progress-circular><span class="md-caption" ng-show="totalCount==0&&!isLoading">No item found.</span></div></md-virtual-repeat-container></div>',link:t};return e.$inject=["$scope","$filter","$mdDialog","$window","$timeout","$sce"],l}function t(){function e(e,t){function l(l){t.show({controller:n,parent:angular.element(document.body),targetEvent:l,clickOutsideToClose:!1,template:'<md-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Choose Columns</h2><span flex></span><md-button class="md-icon-button" ng-click="cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><div ng-repeat="column in columns" ng-if="column.title"><md-checkbox ng-disabled="!column.optional" ng-checked="!column.hide" ng-click="toggle(column)">{{column.title}}</md-checkbox></div></div></md-dialog-content><md-dialog-actions><md-button ng-click="hide()" class="md-primary">close</md-button></md-dialog-actions></md-dialog>',locals:{columns:e.columns}})}function n(e,t,l){function n(){t.hide()}function o(){t.cancel()}function c(e){e.hide=!e.hide}e.hide=n,e.cancel=o,e.toggle=c,e.columns=l}e.showPicker=l,n.$inject=["$scope","$mdDialog","columns"]}var t={restrict:"E",controller:e,template:'<md-button class="md-primary md-icon-button" ng-click="showPicker($event)"><md-tooltip>columns</md-tooltip><md-icon md-font-set="material-icons">view_column</md-icon></md-button>',scope:{columns:"="}};return e.$inject=["$scope","$mdDialog"],t}angular.module("tw.ui.table",["ngMaterial","ngSanitize"]).directive("twUiTable",e).directive("twUiTableColumnsPicker",t)}();