<md-virtual-repeat-container style="{{containerStyle}}">
    <table md-table ng-class="{'selectable':selectable}">
        <thead md-head ng-if="!hideHeader">
            <tr>
                <th ng-if="selectable">
                    <md-checkbox aria-label="check all" ng-checked="allAreSelected()" ng-click="toggleAll()" />
                </th>
                <th ng-show="(!compact||!column.optional) &&! column.hide" ng-class="{'numeric':column.numeric}" ng-repeat="column in columns">
                    <span ng-if="column.sortable" ng-click="sort(column)" class="sort-handler">
                            <span>{{column.title}}</span>
                    <md-icon ng-show="sortField===column.path && sortDesc" md-font-set="material-icons">keyboard_arrow_down</md-icon>
                    <md-icon ng-show="sortField===column.path && !sortDesc" md-font-set="material-icons">keyboard_arrow_up</md-icon>
                    </span>
                    <span ng-if="!column.sortable">
                            {{column.title}}
                        </span>
                </th>
            </tr>
        </thead>
        <tbody md-body>
            <tr md-row md-auto-select md-virtual-repeat="item in data" ng-class="{'selected':isItemSelected(item), 'clickable':itemClicked}">
                <td ng-if="selectable">
                    <md-checkbox aria-label="select" ng-checked="isItemSelected(item)" ng-click="toggleItemSelected(item)" />
                </td>
                <td ng-show="(!compact||!column.optional) &&! column.hide" ng-repeat="column in columns" ng-class="{'numeric':column.numeric}" ng-click="onItemClicked(item, $event)">
                    <md-button ng-if="column.commands" class="md-icon-button md-primary" ng-click="runCommand(command.commandName, item,$event)" ng-repeat="command in column.commands">
                        <md-tooltip ng-if="command.tooltip">{{command.tooltip}}</md-tooltip>
                        <md-icon md-font-set="material-icons">{{command.icon}}</md-icon>
                    </md-button>

                    <md-tooltip ng-if="column.tooltipFn&&!column.commands">{{column.tooltipFn(item)}}</md-tooltip>
                    <span ng-if="!column.commands">{{getCellText(item, column)}}</span>
                </td>
            </tr>
        </tbody>
    </table>

    <div class="md-padding" layout="row" layout-align="center center">
        <md-button class="md-primary" ng-click="loadMore()" ng-show="data.length<totalCount&&!isLoading">Load More</md-button>
        <md-progress-circular md-mode="indeterminate" ng-show="isLoading"></md-progress-circular>
        <span class="md-caption" ng-show="totalCount==0&&!isLoading">No item found.</span>
    </div>
</md-virtual-repeat-container>
