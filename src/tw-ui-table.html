<md-virtual-repeat-container style="{{containerStyle}}">
    <md-table-container>
        <table md-table ng-class="{'selectable':selectable}">
            <thead md-head ng-if="!hideHeader">
                <tr>
                    <th ng-if="selectable">
                        <md-checkbox aria-label="check all" ng-checked="allAreSelected()" ng-click="toggleAll()" />
                    </th>
                    <th ng-if="(!compact||!column.optional) &&! column.hide" ng-class="{'numeric':column.numeric}" ng-repeat="column in columns">
                        <span ng-if="column.sortable" ng-click="sort(column.path)" class="sort-handler">
                            <span>{{column.title}}</span>
                            <md-icon ng-show="sortField===column.path && sortDesc" md-font-set="material-icons">keyboard_arrow_down</md-icon>
                            <md-icon ng-show="sortField===column.path && !sortDesc" md-font-set="material-icons">keyboard_arrow_up</md-icon>
                        </span>
                        <span ng-if="!column.sortable">
                            {{column.title}}
                        </span>
                    </th>
                </tr>
            </thead>
            <tbody md-body>
                <tr md-row md-auto-select md-virtual-repeat="item in data" ng-class="{'selected':isItemSelected(item), 'clickable':itemClicked}">
                    <td ng-if="selectable">
                        <md-checkbox aria-label="select" ng-checked="isItemSelected(item)" ng-click="toggleItemSelected(item)" />
                    </td>
                    <td ng-if="(!compact||!column.optional) &&! column.hide" ng-repeat="column in columns" ng-class="{'numeric':column.numeric}" ng-click="onItemClicked(item, $event)">
                        <md-tooltip ng-if="column.tooltipFnName">{{getTooltipText(item, column)}}</md-tooltip>
                       {{getCellText(item, column)}}
                    </td>
                </tr>
            </tbody>
        </table>

        <div class="md-padding" layout="row" layout-align="center center">
            <md-button class="md-primary" ng-click="loadMore()"
            ng-show="data.length<totalCount&&!isLoading">Load More</md-button>
            <md-progress-circular md-mode="indeterminate" ng-show="isLoading"></md-progress-circular>
            <span class="md-caption" ng-show="totalCount==0&&!isLoading">No item found.</span>
        </div>

    </md-table-container>
</md-virtual-repeat-container>
